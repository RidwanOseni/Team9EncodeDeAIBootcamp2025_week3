'use client'; import { useRouter, useParams } from 'next/navigation'; import { useEffect, useState } from 'react';
export default function EditCharacter() { const { id } = useParams(); const router = useRouter(); const [form, setForm] = useState({ name: '', description: '', personality: '' }); useEffect(() => { fetch(`/api/characters/${id}`).then(r => r.json()).then(setForm); }, [id]); const handleSubmit = async (e: React.FormEvent) => { e.preventDefault(); await fetch(`/api/characters/${id}`, { method: 'PUT', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(form) }); router.push('/characters'); };
return (<form onSubmit={handleSubmit} className="space-y-4 max-w-md"><input required value={form.name} onChange={e => setForm({ ...form, name: e.target.value })} className="input" /><input required value={form.description} onChange={e => setForm({ ...form, description: e.target.value })} className="input" /><input required value={form.personality} onChange={e => setForm({ ...form, personality: e.target.value })} className="input" /><button type="submit" className="btn">Save</button></form>); }
